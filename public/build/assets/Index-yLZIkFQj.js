import{r,u as j,b,j as e,H as w,L as i}from"./app-BOG3Veb3.js";import{A as v}from"./AuthenticatedLayout-Ce-O0_Pg.js";import{P as y}from"./PrimaryButton-ubX2Q0lt.js";import{I as N}from"./InputError-CDTQogTq.js";import{T as k}from"./TextInput--yUVTiJ3.js";import{F as R}from"./MagnifyingGlassIcon-DkioMzNq.js";import{F as C}from"./XMarkIcon-Qhb9chKt.js";import"./ApplicationLogo-BtzcYS88.js";import"./transition-BmS32Iyx.js";function E({title:t,titleId:a,...n},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const S=r.forwardRef(E);function B({title:t,titleId:a,...n},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const F=r.forwardRef(B);function L({title:t,titleId:a,...n},l){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const q=r.forwardRef(L),c=({user:t,children:a})=>e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-zinc-900 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 flex items-center justify-center font-bold overflow-hidden",children:t.avatar?e.jsx("img",{src:`/storage/${t.avatar}`,alt:t.name,className:"h-full w-full object-cover"}):t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",t.username]})]})]}),e.jsx("div",{className:"flex-shrink-0 flex gap-2",children:a})]}),A=({user:t})=>e.jsx(i,{href:route("contacts.add",{user:t.id}),method:"post",as:"button",className:"inline-flex items-center justify-center p-2 bg-primary-600 hover:bg-primary-700 text-white rounded-full transition-colors",title:"Send contact request",children:e.jsx(q,{className:"h-5 w-5"})}),P=({user:t})=>e.jsx(i,{href:route("contacts.accept",{user:t.id}),method:"patch",as:"button",className:"inline-flex items-center justify-center p-2 bg-green-600 hover:bg-green-700 text-white rounded-full transition-colors",title:"Accept request",children:e.jsx(F,{className:"h-5 w-5"})}),d=({user:t,title:a})=>e.jsx(i,{href:route("contacts.remove",{user:t.id}),method:"delete",as:"button",className:"inline-flex items-center justify-center p-2 bg-red-600 hover:bg-red-700 text-white rounded-full transition-colors",title:a,children:e.jsx(C,{className:"h-5 w-5"})}),z=({user:t})=>e.jsx(i,{href:route("chat.start",{user:t.id}),method:"post",as:"button",className:"inline-flex items-center justify-center p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition-colors",title:"Message",children:e.jsx(S,{className:"h-5 w-5"})});function V(){const{auth:t,myContacts:a,pendingSent:n,pendingReceived:l}=j().props,[m,x]=r.useState([]),{data:h,setData:g,post:M,processing:u,errors:p}=b({search:""}),f=s=>{s.preventDefault(),axios.post(route("contacts.search"),h).then(o=>{x(o.data)}).catch(o=>{console.error("Error searching users:",o)})};return e.jsxs(v,{user:t.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Contacts & People"}),children:[e.jsx(w,{title:"Contacts"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-zinc-800 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Find People"}),e.jsxs("form",{onSubmit:f,className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(k,{id:"search",name:"search",value:h.search,className:"block w-full pl-10",placeholder:"Search by @username...",onChange:s=>g("search",s.target.value)}),e.jsx(R,{className:"h-5 w-5 text-gray-400 absolute top-1/2 left-3 -translate-y-1/2"})]}),e.jsx(y,{disabled:u,children:"Search"})]}),e.jsx(N,{message:p.search,className:"mt-2"})]}),m.length>0&&e.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-zinc-800 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Search Results"}),e.jsx("div",{className:"space-y-3",children:m.map(s=>e.jsx(c,{user:s,children:e.jsx(A,{user:s})},s.id))})]})]}),e.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-zinc-800 shadow sm:rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["My Contacts (",a.length,")"]}),e.jsx("div",{className:"space-y-3",children:a.length>0?a.map(s=>e.jsxs(c,{user:s,children:[e.jsx(z,{user:s}),e.jsx(d,{user:s,title:"Remove contact"})]},s.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm text-center py-4",children:"Search for people to add to your contacts."})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-zinc-800 shadow sm:rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Pending Requests (",l.length,")"]}),e.jsx("div",{className:"space-y-3",children:l.length>0?l.map(s=>e.jsxs(c,{user:s,children:[e.jsx(P,{user:s}),e.jsx(d,{user:s,title:"Decline request"})]},s.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No new contact requests."})})]}),e.jsxs("div",{className:"p-4 sm:p-6 bg-white dark:bg-zinc-800 shadow sm:rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Sent Requests (",n.length,")"]}),e.jsx("div",{className:"space-y-3",children:n.length>0?n.map(s=>e.jsx(c,{user:s,children:e.jsx(d,{user:s,title:"Cancel request"})},s.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No pending sent requests."})})]})]})]})})})]})}export{V as default};
