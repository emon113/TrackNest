import{u as I,b as m,r as c,j as e,H as M,L as _}from"./app-BOG3Veb3.js";import{A as P}from"./AuthenticatedLayout-Ce-O0_Pg.js";import{P as x}from"./PrimaryButton-ubX2Q0lt.js";import{I as u}from"./InputError-CDTQogTq.js";import{I as g}from"./InputLabel-BYmVq7pe.js";import{T as h}from"./TextInput--yUVTiJ3.js";import{M as A}from"./Modal-D8Nu6pZ8.js";import"./ApplicationLogo-BtzcYS88.js";import"./transition-BmS32Iyx.js";import"./with-selector-xTU59tH0.js";import"./index-BILz-40H.js";function J(){const{auth:p,notebooks:a}=I().props,{data:b,setData:f,post:y,processing:r,errors:N,reset:j}=m({name:""}),[k,o]=c.useState(!1),[F,n]=c.useState(null),{data:d,setData:i,patch:v,processing:l,errors:w,reset:C}=m({id:"",name:""}),E=s=>{s.preventDefault(),y(route("notebooks.store"),{onSuccess:()=>j()})},S=s=>{n(s),i({id:s.id,name:s.name}),o(!0)},t=()=>{o(!1),n(null),C()},D=s=>{s.preventDefault(),v(route("notebooks.update",d.id),{onSuccess:()=>t()})};return e.jsxs(P,{user:p.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Manage Notebooks"}),children:[e.jsx(M,{title:"Manage Notebooks"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Notebook"}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:"name",value:"Notebook Name"}),e.jsx(h,{id:"name",name:"name",value:b.name,className:"mt-1 block w-full",onChange:s=>f("name",s.target.value)}),e.jsx(u,{message:N.name,className:"mt-2"})]}),e.jsx(x,{disabled:r,children:r?"Creating...":"Create"})]})]})}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"p-4 sm:p-8 bg-white dark:bg-gray-800 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Your Notebooks"}),e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"You don't have any notebooks yet."}):a.map(s=>e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-900 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsxs("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:["(",s.notes_count," ",s.notes_count===1?"note":"notes",")"]})]}),e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{onClick:()=>S(s),className:"font-medium text-primary-600 dark:text-primary-400 hover:underline",children:"Rename"}),e.jsx(_,{href:route("notebooks.destroy",s.id),method:"delete",as:"button",className:"font-medium text-red-600 dark:text-red-400 hover:underline",onBefore:()=>confirm("Are you sure you want to delete this notebook? Notes inside will NOT be deleted."),children:"Delete"})]})]},s.id))})]})})]})}),e.jsx(A,{show:k,onClose:t,children:e.jsxs("form",{onSubmit:D,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Rename Notebook"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Enter a new name for your notebook."}),e.jsxs("div",{className:"mt-6",children:[e.jsx(g,{htmlFor:"edit_name",value:"Notebook Name",className:"sr-only"}),e.jsx(h,{id:"edit_name",name:"name",value:d.name,className:"mt-1 block w-full",onChange:s=>i("name",s.target.value)}),e.jsx(u,{message:w.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-500 rounded-md font-semibold text-xs text-gray-700 dark:text-gray-300 uppercase tracking-widest shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-25 transition ease-in-out duration-150",children:"Cancel"}),e.jsx(x,{className:"ms-3",disabled:l,children:l?"Saving...":"Save"})]})]})})]})}export{J as default};
