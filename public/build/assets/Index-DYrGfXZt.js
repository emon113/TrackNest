import{u as k,r as v,b as w,j as e,H as C,L as c}from"./app-BOG3Veb3.js";import{A as z}from"./AuthenticatedLayout-Ce-O0_Pg.js";import{P as m}from"./PrimaryButton-ubX2Q0lt.js";import{I as B}from"./InputError-CDTQogTq.js";import{I as l}from"./InputLabel-BYmVq7pe.js";import{T as x}from"./TextInput--yUVTiJ3.js";import{M as F}from"./Modal-D8Nu6pZ8.js";import{F as I}from"./UsersIcon-BeZ3k2E8.js";import"./ApplicationLogo-BtzcYS88.js";import"./transition-BmS32Iyx.js";import"./with-selector-xTU59tH0.js";import"./index-BILz-40H.js";function q(){const{auth:t,boards:o,myContacts:i}=k().props,[p,n]=v.useState(!1),{data:s,setData:a,post:u,processing:g,errors:h,reset:b}=w({name:"",description:"",collaborators:[]}),j=()=>n(!0),d=()=>{n(!1),b()},f=r=>{r.preventDefault(),u(route("boards.store"),{onSuccess:()=>d()})},y=r=>{s.collaborators.includes(r)?a("collaborators",s.collaborators.filter(N=>N!==r)):a("collaborators",[...s.collaborators,r])};return e.jsxs(z,{user:t.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Task Boards"}),e.jsx(m,{onClick:j,children:"Create New Board"})]}),children:[e.jsx(C,{title:"Task Boards"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:o.length===0?e.jsx("div",{className:"p-8 bg-white dark:bg-zinc-800 shadow sm:rounded-lg text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No boards yet. Start your first project!"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(r=>e.jsxs("div",{className:"bg-white dark:bg-zinc-800 shadow-lg rounded-lg flex flex-col overflow-hidden border border-gray-100 dark:border-zinc-700",children:[e.jsxs("div",{className:"p-6 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:r.name}),r.user_id!==t.user.id&&e.jsxs("span",{className:"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-200 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"})," Shared"]})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:r.description||"No description"}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:[r.tasks_count," tasks"]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-zinc-900/50 border-t border-gray-200 dark:border-zinc-700 flex justify-end items-center space-x-3",children:[e.jsx(c,{href:route("tasks.index",{board:r.id}),className:"font-semibold text-primary-600 dark:text-primary-400 hover:underline text-sm",children:"Open Board"}),r.user_id===t.user.id&&e.jsx(c,{href:route("boards.edit",r.id),className:"font-medium text-gray-600 dark:text-gray-400 hover:underline text-sm",children:"Settings"})]})]},r.id))})})}),e.jsx(F,{show:p,onClose:d,children:e.jsxs("form",{onSubmit:f,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Create New Board"}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",value:"Board Name"}),e.jsx(x,{id:"name",value:s.name,onChange:r=>a("name",r.target.value),className:"mt-1 block w-full",isFocused:!0}),e.jsx(B,{message:h.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",value:"Description"}),e.jsx(x,{id:"description",value:s.description,onChange:r=>a("description",r.target.value),className:"mt-1 block w-full"})]}),i.length>0&&e.jsxs("div",{children:[e.jsx(l,{value:"Invite Collaborators (Optional)"}),e.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border border-gray-200 dark:border-zinc-700 rounded-md p-2",children:i.map(r=>e.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-zinc-700 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-primary-600 shadow-sm focus:ring-primary-500",checked:s.collaborators.includes(r.id),onChange:()=>y(r.id)}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.name})]},r.id))})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 bg-white dark:bg-zinc-800 border border-gray-300 dark:border-gray-500 rounded-md text-gray-700 dark:text-gray-300",children:"Cancel"}),e.jsx(m,{disabled:g,children:"Create Board"})]})]})})]})}export{q as default};
